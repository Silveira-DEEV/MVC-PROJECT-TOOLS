@{
    ViewData["Title"] = "Cadastro de Peças";
}

<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="~/css/cadastroP.css">
    <link rel="shortcut icon" href="~/images/logo_site-removebg-preview.png" type="image/x-icon">
</head>

<body>
    <li class="nav-item">
        <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
    </li>
    <header>

        <img id="logoSenai"
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSEmhaEK0AahY6v7bsr8h61jxmKMol_EbpZag&s"
            alt="Logo Senai">
        <h1>Cadastro de Peças</h1>
    </header>

    <div id="statusMessage" class="status-message"></div>

    <form>
        <label for="username">Nome do Aluno:</label>
        <input type="text" id="username" placeholder="Digite seu nome">

        <label for="teacherName">Nome do Professor:</label>
        <select id="teacherName">
            <option value="Thiago">Thiago</option>
            <option value="Fagner">Fagner</option>
            <option value="Claudio">Cláudio</option>
            <option value="Mario">Mário</option>
            <option value="Andre">André</option>
        </select>

        <label for="deliveryDate">Data de Saída:</label>
        <input type="date" id="deliveryDate">

        <label for="pieceName">Nome da Peça:</label>
        <input type="text" id="pieceName" placeholder="Nome da peça">

        <label for="quantity">Quantidade de Peças:</label>
        <input type="number" id="quantity" placeholder="Quantidade de peças">

        <button type="button" id="saveButton">Salvar</button>
    </form>

    <div id="container">
        <div id="entradaDePecas" class="section">
            <h2>Saída de Peças</h2>
            <div id="entradaList"></div>
        </div>

        <div id="devolucaoDePecas" class="section">
            <h2>Peças Devolvidas</h2>
            <div id="devolucaoList"></div>
        </div>
    </div>

    <script type="module" src="~/js/cadastroP.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const entradaList = document.getElementById("entradaList");
            const devolucaoList = document.getElementById("devolucaoList");

            entradaList.addEventListener("click", function (event) {
                if (event.target.classList.contains("devolverButton")) {
                    const item = event.target.parentElement;
                    const currentDate = new Date().toLocaleDateString("pt-BR");

                    const dataDevolucaoElement = document.createElement("p");
                    dataDevolucaoElement.innerHTML = `<strong>Data de Devolução:</strong> ${currentDate}`;

                    item.appendChild(dataDevolucaoElement);
                    event.target.remove();
                    devolucaoList.appendChild(item);
                }
            });
        });
    </script>
</body>

</html>
